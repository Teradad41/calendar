# 📅 Calendar CLI

Rustで実装されたシンプルで使いやすいコマンドライン予定管理アプリケーション

## ✨ 特徴

- 📝 予定の追加・削除・一覧表示
- 🔒 予定の重複チェック（時間の重なりを自動検出）
- 💾 JSONファイルでの永続化
- 🎯 シンプルで直感的なCLI
- ✅ 堅牢なエラーハンドリング
- 🆔 ユニークなID管理（削除後もIDが重複しない）

## 📦 インストール

### ビルド方法

```bash
git clone <repository-url>
cd calendar
cargo build --release
```

実行ファイルは `target/release/calendar` に生成されます。

## 🚀 使い方

### 予定の一覧表示

```bash
calendar list
```

**出力例:**
```
ID	START			END			SUBJECT
0	2024-12-20 10:00:00	2024-12-20 11:00:00	会議
1	2024-12-20 14:00:00	2024-12-20 15:00:00	プレゼン準備
2	2024-12-21 09:00:00	2024-12-21 10:30:00	朝礼
```

予定がない場合:
```
予定がありません
```

### 予定の追加

```bash
calendar add <タイトル> <開始日時> <終了日時>
```

**例:**
```bash
calendar add "チームミーティング" "2024-12-25T10:00:00" "2024-12-25T11:00:00"
```

**日時フォーマット:**
- ISO 8601形式: `YYYY-MM-DDTHH:MM:SS`
- 例: `2024-12-25T14:30:00`

**成功時の出力:**
```
予定を追加しました！
```

**エラー時の出力例:**
```
エラー: 予定が重複しています
```

### 予定の削除

```bash
calendar delete <ID>
```

**例:**
```bash
calendar delete 0
```

**成功時の出力:**
```
予定を削除しました！
```

**エラー時の出力例:**
```
エラー: 予定が見つかりませんでした: (ID: 999)
```

## 📁 データファイル

予定は `schedule.json` ファイルに保存されます。

**ファイル例:**
```json
{
  "schedules": [
    {
      "id": 0,
      "subject": "会議",
      "start": "2024-12-20T10:00:00",
      "end": "2024-12-20T11:00:00"
    }
  ],
  "next_id": 1
}
```

## 📚 依存ライブラリ

| ライブラリ | バージョン | 用途 |
|-----------|-----------|------|
| chrono | 0.4.42 | 日時処理 |
| clap | 4.5.51 | CLIパーサー |
| serde | 1.0.228 | シリアライゼーション |
| serde_json | 1.0.145 | JSON処理 |
| thiserror | 2.0.17 | エラー定義 |
| rstest | 0.26.1 | テストフレームワーク（dev） |

## 🐛 既知の問題・制限事項

- 日時のバリデーション（開始 < 終了）が未実装
- 予定のソート機能がない（追加順に表示される）
- 予定の編集機能がない
- 日付範囲での検索機能がない
- タイムゾーン情報を保持しない（NaiveDateTimeを使用）

## 🔮 将来の改善予定

- [ ] 開始・終了日時のバリデーション追加
- [ ] 予定を日時順にソート
- [ ] 予定の編集機能（`update`コマンド）
- [ ] 日付範囲での検索機能
- [ ] カレンダー表示機能
- [ ] 予定のエクスポート/インポート機能
- [ ] より柔軟な日時入力フォーマット

---

Made with ❤️ and 🦀 Rust
